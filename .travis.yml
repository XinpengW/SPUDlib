language: c
compiler:
  - gcc
  - clang
before_install:
 - sudo apt-get install check
 - sudo pip install cpp-coveralls

# Change this to your needs
script: 
  - ./bootstrap.sh
  - ./configure --with-check && make && make check

#coveralls, how to do this with only gcc?
after_success:
  - ./configure --with-check --enable-gcov && make && make check
  - coveralls --exclude-pattern ".+?\.h" --exclude-pattern "\w+/test" --exclude samplecode --gcov-options '\-lp'
